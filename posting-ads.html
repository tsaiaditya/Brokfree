<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="posting-ads.css" type="text/css">
</head>

<body onload="document.body.classList.add('loaded')">
    <form id="regForm" action="">
        <h1>Posting Ad :</h1>
        <!-- One "tab" for each step in the form: -->
        <div class="tab">Phase 1:
            <p>
                <input class="normal" placeholder="Name of the city..." oninput="this.className = ''" name="city">
            </p>
            <p>
                <input class="normal" placeholder="Name of the house..." oninput="this.className = ''" name="hname">
            </p>
            <p>
                <input class="normal" placeholder="Full Address..." oninput="this.className = ''" name="addr">
            </p>
            <p>
                <input class="normal" placeholder="Rent per Month ..." oninput="this.className = ''" name="rentpm">
            </p>
            <p>
                <input class="normal" placeholder="Dimension of land... (in sqft.)" oninput="this.className = ''" name="sqft">
            </p>
            <p>
                <input class="normal" placeholder="Deposit Amount(Initial)..." oninput="this.className = ''" name="deposit">
            </p>
            <p>
                <input class="normal" placeholder="Description of the House..." oninput="this.className = ''" name="description">
            </p>
            <p>
                <button onclick="getlocation()" type="button">Click here to find your current location's Latitude and Longitude</button>
            </p>
            <p>
                <input id="lat" class="normal" placeholder="Latitude..." oninput="this.className = ''" name="latitude">
            </p>
            <p>
                <input id="lon" class="normal" placeholder="Longitude..." oninput="this.className = ''" name="longitude">
            </p>
        </div>
        <div class="tab">Phase 2:
            <p>
                <input class="normal" placeholder="Number of Bedrooms in the house..." oninput="this.className = ''" name="no_of_bedrooms">
            </p>
            <p class="radio">Property Type ?<br><br>
                <input class="radio-type" type="radio" name="prop_type" value="Apartment" required>Apartment
                <input class="radio-type" type="radio" name="prop_type1" value="Individual House">Individual House
            </p>
            <p class="radio">Preferred Tenants ?<br><br>
                <input class="radio-type" type="radio" name="tenant_type" value="Family" required>Family
                <input class="radio-type" type="radio" name="tenant_type1" value="Bachelors">Bachelors
                <input class="radio-type" type="radio" name="tenant_type2" value="Company">Company
                <input class="radio-type" type="radio" name="tenant_type3" value="Doesnt_matter">Doesn't matter
            </p>
            <p class="radio">Possession Type ?<br><br>
                <input class="radio-type" type="radio" name="possession_type" value="Immediately" required>Immediately
                <input class="radio-type" type="radio" name="possession_type1" value="Few Weeks">Few Weeks
            </p>
            <p class="radio">Parking Type ?<br><br>
                <input class="radio-type" type="radio" name="parking_type" value="bike" required>Bike only
                <input class="radio-type" type="radio" name="parking_type1" value="bikeandcar">Bike and Car
                <input class="radio-type" type="radio" name="parking_type2" value="car">Car only
            </p>
            <p>
                <input class="normal" placeholder="Age of the Building..." oninput="this.className = ''" name="building_age">
            </p>
            <p class="radio">Furnishing ?<br><br>
                <input class="radio-type" type="radio" name="furnish_type" value="semi" required>Semi-Furnished
                <input class="radio-type" type="radio" name="furnish_type1" value="fully">Fully-Furnished
                <input class="radio-type" type="radio" name="furnish_type2" value="not_furnished">Unfurnished
            </p>
            <p class="radio">Direction in which house is facing ?<br><br>
                <input class="radio-type" type="radio" name="direction" value="north" required>North
                <input class="radio-type" type="radio" name="direction1" value="south">South
                <input class="radio-type" type="radio" name="direction2" value="east">East
                <input class="radio-type" type="radio" name="direction3" value="west">West
            </p>
            <p class="radio">Water Supply getting from ?<br><br>
                <input class="radio-type" type="radio" name="water_supply" value="corporation" required>Corporation
                <input class="radio-type" type="radio" name="water_supply1" value="borewell">Borewell
                <input class="radio-type" type="radio" name="water_supply2" value="corporation&borewell">Both
            </p>
            <p class="radio">Security Guards ?<br><br>
                <input class="radio-type" type="radio" name="security" value="secured" required>Yes
                <input class="radio-type" type="radio" name="security1" value="unsecured">No
            </p>
            <p>
                <input class="normal" placeholder="Number of bathrooms..." oninput="this.className = ''" name="no_of_bathrooms">
            </p>
            <p class="radio">Non-Veg allowed in house ?<br><br>
                <input class="radio-type" type="radio" name="non_veg_allowance" value="allowed" required>Yes
                <input class="radio-type" type="radio" name="non_veg_allowance1" value="not_allowed">No
            </p>
        </div>
        <div class="tab">Phase 3:
            <p class="radio">Lift facility ?<br><br>
                <input class="radio-type" type="radio" name="lift_facility" value="there">Yes
                <input class="radio-type" type="radio" name="lift_facility1" value="not_there" checked>No
            </p>
            <p class="radio">Air Conditioner facility ?<br><br>
                <input class="radio-type" type="radio" name="airconditioner" value="there">Yes
                <input class="radio-type" type="radio" name="airconditioner1" value="not_there" checked>No
            </p>
            <p class="radio">Swimming Pool ?<br><br>
                <input class="radio-type" type="radio" name="swimming_pool" value="there">Yes
                <input class="radio-type" type="radio" name="swimming_pool1" value="not_there" checked>No
            </p>
            <p class="radio">Servant room in house ?<br><br>
                <input class="radio-type" type="radio" name="servant_room" value="there">Yes
                <input class="radio-type" type="radio" name="servant_room1" value="not_there" checked>No
            </p>
            <p class="radio">Gas pipeline for house ?<br><br>
                <input class="radio-type" type="radio" name="gas_pipeline" value="allowed">Yes
                <input class="radio-type" type="radio" name="gas_pipeline1" value="not_allowed" checked>No
            </p>
            <p class="radio">Sewage Treatment plant for house ?<br><br>
                <input class="radio-type" type="radio" name="sewage_treatment" value="there">Yes
                <input class="radio-type" type="radio" name="sewage_treatment1" value="not_there" checked>No
            </p>
            <p class="radio">Visitor Parking facility ?<br><br>
                <input class="radio-type" type="radio" name="visitor_parking" value="there">Yes
                <input class="radio-type" type="radio" name="visitor_parking1" value="not_there" checked>No
            </p>
            <p class="radio">Gym facility ?<br><br>
                <input class="radio-type" type="radio" name="gym_facility" value="there">Yes
                <input class="radio-type" type="radio" name="gym_facility1" value="not_there" checked>No
            </p>
            <p class="radio">Club House ?<br><br>
                <input class="radio-type" type="radio" name="club_house" value="there">Yes
                <input class="radio-type" type="radio" name="club_house1" value="not_there" checked>No
            </p>
            <p class="radio">Children's Play Area there ?<br><br>
                <input class="radio-type" type="radio" name="child_play_area" value="there">Yes
                <input class="radio-type" type="radio" name="child_play_area1" value="not_there" checked>No
            </p>
            <p class="radio">Park nearby ?<br><br>
                <input class="radio-type" type="radio" name="park" value="there">Yes
                <input class="radio-type" type="radio" name="park1" value="not_there" checked>No
            </p>
            <p class="radio">House Keeping Services available?<br><br>
                <input class="radio-type" type="radio" name="house_keeping" value="there">Yes
                <input class="radio-type" type="radio" name="house_keeping1" value="not_there" checked>No
            </p>
            <p class="radio">Internet Services provided ?<br><br>
                <input class="radio-type" type="radio" name="internet" value="there">Yes
                <input class="radio-type" type="radio" name="internet1" value="not_there" checked>No
            </p>
            <p class="radio">Intercom provided ?<br><br>
                <input class="radio-type" type="radio" name="intercom" value="there">Yes
                <input class="radio-type" type="radio" name="intercom1" value="not_there" checked>No
            </p>
            <p class="radio">Fire Safety ensured ?<br><br>
                <input class="radio-type" type="radio" name="fire_safety" value="there">Yes
                <input class="radio-type" type="radio" name="fire_safety1" value="not_there" checked>No
            </p>
            <p class="radio">Shopping Center Nearby ?<br><br>
                <input class="radio-type" type="radio" name="shopping" value="there">Yes
                <input class="radio-type" type="radio" name="shopping1" value="not_there" checked>No
            </p>
            <p class="radio">Rainwater Harvesting Facility ?<br><br>
                <input class="radio-type" type="radio" name="rainwater_harvesting" value="there">Yes
                <input class="radio-type" type="radio" name="rainwater_harvesting1" value="not_there" checked>No
            </p>
            <p class="radio">Power Backup ensured ?<br><br>
                <input class="radio-type" type="radio" name="power_backup" value="there">Yes
                <input class="radio-type" type="radio" name="power_backup1" value="not_there" checked>No
            </p>
        </div>
        <div style="overflow:auto;">
            <div style="float:right;">
                <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
            </div>
        </div>
        <!-- Circles which indicates the steps of the form: -->
        <div style="text-align:center;margin-top:40px;">
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
        </div>
    </form>

    <script>
        var currentTab = 0; // Current tab is set to be the first tab (0)
        showTab(currentTab); // Display the crurrent tab

        function showTab(n) {
            // This function will display the specified tab of the form...
            var x = document.getElementsByClassName("tab");
            x[n].style.display = "block";
            var y=x[n].getElementsByClassName("normal");
            var len= x[n].getElementsByClassName("normal").length;
            var i;
            for(i=0;i<len;i++){
                y[i].style.padding="10px";
                y[i].style.width = "100%";
                y[i].style.fontSize = "17px";
                y[i].style.fontFamily = "Raleway"; 
                y[i].style.border = "1px solid #aaaaaa";
            }
            //... and fix the Previous/Next buttons:
            if (n == 0) {
                document.getElementById("prevBtn").style.display = "none";
            } else {
                document.getElementById("prevBtn").style.display = "inline";
            }
            if (n == (x.length - 1)) {
                document.getElementById("nextBtn").innerHTML = "Submit";
            } else {
                document.getElementById("nextBtn").innerHTML = "Next";
            }
            //... and run a function that will display the correct step indicator:
            fixStepIndicator(n)
        }

        function nextPrev(n) {
            // This function will figure out which tab to display
            var x = document.getElementsByClassName("tab");
            // Exit the function if any field in the current tab is invalid:
            if (n == 1 && (!validateForm() || !radioinputcheck())) return false;
            // Hide the current tab:
            x[currentTab].style.display = "none";
            // Increase or decrease the current tab by 1:
            currentTab = currentTab + n;
            // if you have reached the end of the form...
            if (currentTab >= x.length) {
                // ... the form gets submitted:
                document.getElementById("regForm").submit();
                return false;
            }
            // Otherwise, display the correct tab:
            showTab(currentTab);
        }

        function validateForm() {
            // This function deals with validation of the form fields
            var x, y, i, valid = true;
            x = document.getElementsByClassName("tab");
            y = x[currentTab].getElementsByTagName("input");
            
            // A loop that checks every input field in the current tab:
            for (i = 0; i < y.length; i++) {
                // If a field is empty...
                if (y[i].value == "") {
                    // add an "invalid" class to the field:
                    y[i].className += " invalid";
                    // and set the current valid status to false
                    valid = false;
                }
            }

            // If the valid status is true, mark the step as finished and valid:
            if (valid) {
                document.getElementsByClassName("step")[currentTab].className += " finish";
            }
            return valid; // return the valid status
        }

        function radioinputcheck(){
            //radio input checker for phase 2
            var x;
            x = document.getElementsByClassName("tab");
            var z = x[currentTab].getElementsByClassName("radio-type");
            var valid=true;
            if (z.length == 25) {
                if (!((z.prop_type.checked || z.prop_type1) && (z.water_supply.checked || z.water_supply1.checked || z.water_supply2.checked) && (z.tenant_type.checked || z.tenant_type1.checked || z.tenant_type2 || z.tenant_type3.checked) && (z.direction.checked || z.direction1.checked || z.direction2.checked || z.direction3) && (z.furnish_type.checked || z.furnish_type1.checked || z.furnish_type2.checked) && (z.parking_type.checked || z.parking_type1.checked || z.parking_type2.checked) && (z.possession_type.checked || z.possession_type1.checked) && (z.non_veg_allowance.checked || z.non_veg_allowance1.checked))) {
                    valid = false;
                    alert('Please check all the boxes whether filled or not.');
                }
                else {
                    valid = true;
                }
            }
            else {
                valid = true;
            }
            return valid;
        }

        function fixStepIndicator(n) {
            // This function removes the "active" class of all steps...
            var i, x = document.getElementsByClassName("step");
            for (i = 0; i < x.length; i++) {
                x[i].className = x[i].className.replace(" active", "");
            }
            //... and adds the "active" class on the current step:
            x[n].className += " active";
        }

        var x=document.getElementById("lat");
        var y=document.getElementById("lon");
        function getlocation() {
                navigator.geolocation.getCurrentPosition(showPosition);
            }
        function showPosition(position) {
                x.value = position.coords.latitude;
                y.value = position.coords.longitude;
            }

        //var a = document.getElementsByClassName("tab");
        //var b = a[1].getElementsByClassName('radio-type');
        //b.required=true;
        
    </script>
</body>

</html>